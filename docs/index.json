{"repository_name":"github.com/cakefile/cake","body":"# Cake\n\n[![TravisCI](https://travis-ci.org/cakefile/cake.svg?branch=master)](https://travis-ci.org/cakefile/cake)\n\n[![Logo](https://avatars2.githubusercontent.com/u/40494794?s=200&v=4)](https://cakefile.xyz)\n\nBuild utility for Crystal.\n\nSince we write our programs in Crystal, it is not too far fetched to write our\nbuild tasks in Crystal too. Furthermore, Crystal libraries and frameworks can\nbe used also, which is sometimes beneficial.\n\n*This tool does not intend to be compatible with Rake. It is simply a build\nutility similar to Make.*\n\n## Installation\n\n`cake` does not build an executable. Instead, a simple `alias` should be defined\nin `.bash_profile`. Common names for the file include `cakefile.cr`, `cakefile`\nor `Cakefile`.\n\n```bash\nalias cake=\"crystal cakefile.cr --\"\n```\n\n## Development\n\nWhen developing `cake`, it needs to be installed in its own `lib` folder. Thus,\nsymlinks can be used to \"install\" it in the `lib` folder..\n\n```bash\n$ cd lib/\n$ ln -s ../src/cake\n$ ln -s ../src/cake.cr\n```\n\n## Usage\n\n`cake` must first be installed as a development dependency using `shards\ninstall`.\n\n```yaml\ndevelopment_dependencies:\n  cake:\n    git: https://github.com/cakefile/cake.git\n    branch: master\n```\n\nThe targets have to be specified in a file. The following shows a simple\n`Cakefile`.\n\n```crystal\nrequire \"cake\"\n\ndefault :two\n\nphony :one\ntarget :one, desc: \"Being first isn't everything\" do |env|\n  run \"echo\", [\"Or is it really?\"]\nend\n\nphony :two\ntarget :two, deps: [:one], desc: \"Being the second is nothing\" do |env|\n  run \"echo\", [\"Or so it was...\"]\nend\n\nCake.run\n```\n\n`cake` can be used to build the targets. Ensure that it is run in the same\ndirectory as the `Cakefile`.\n\n```bash\n# Builds target one\n$ cake one\necho 'Or is it really?'\nOr is it really?\n\n# Builds target two and target one (dependency)\n$ cake two\necho 'Or is it really?'\nOr is it really?\necho 'Or so it was...'\nOr so it was...\n\n# `cake` alone builds the default target\n$ cake\necho 'Or is it really?'\nOr is it really?\necho 'Or so it was...'\nOr so it was...\n\n# Verbose flag can print more information\n$ cake -v\nBuilding target one...\necho 'Or is it really?'\nOr is it really?\nBuilding target two...\necho 'Or so it was...'\nOr so it was...\n```\n","program":{"html_id":"github.com/cakefile/cake/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/cakefile/cake/Cake/DSL","kind":"module","full_name":"Cake::DSL","name":"DSL"}],"locations":[],"repository_name":"github.com/cakefile/cake","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/cakefile/cake/Cake/DSL","kind":"module","full_name":"Cake::DSL","name":"DSL"}],"extended_modules":[{"html_id":"github.com/cakefile/cake/Cake/DSL","kind":"module","full_name":"Cake::DSL","name":"DSL"}],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/cakefile/cake/Cake","path":"Cake.html","kind":"module","full_name":"Cake","name":"Cake","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"cake/cli.cr","line_number":3,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/cli.cr"},{"filename":"cake/error.cr","line_number":1,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr"},{"filename":"cake/targets.cr","line_number":1,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/targets.cr"},{"filename":"cake.cr","line_number":3,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"run-class-method","html_id":"run-class-method","name":"run","doc":"Runs the program.","summary":"<p>Runs the program.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake.cr#L5","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake.cr#L5","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CLI.new.run"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/cakefile/cake/Cake/BuildError","path":"Cake/BuildError.html","kind":"class","full_name":"Cake::BuildError","name":"BuildError","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Cake/Error","kind":"class","full_name":"Cake::Error","name":"Error"},"ancestors":[{"html_id":"github.com/cakefile/cake/Cake/Error","kind":"class","full_name":"Cake::Error","name":"Error"},{"html_id":"github.com/cakefile/cake/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/error.cr","line_number":7,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/cakefile/cake/Cake/RunError","kind":"class","full_name":"Cake::RunError","name":"RunError"}],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"Raised when an error occurs inside `build` block of a `Target`.","summary":"<p>Raised when an error occurs inside <code>build</code> block of a <code><a href=\"../Cake/Target.html\">Target</a></code>.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/cakefile/cake/Cake/DSL","path":"Cake/DSL.html","kind":"module","full_name":"Cake::DSL","name":"DSL","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"cake/dsl.cr","line_number":3,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"default(name:Name)-instance-method","html_id":"default(name:Name)-instance-method","name":"default","doc":"Sets the given target to be the default target.\n\nIf a default target is not set, it is automatically set to the first target\nthat was defined.","summary":"<p>Sets the given target to be the default target.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Name"}],"args_string":"(name : Name)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L11","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L11","def":{"name":"default","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Name"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Targets::INSTANCE.default = name.to_s"}},{"id":"phony(name_or_names:Name|Array(Name))-instance-method","html_id":"phony(name_or_names:Name|Array(Name))-instance-method","name":"phony","doc":"Adds the given target to the phony targets.\n\nPhony targets are targets that will always be rebuilt, no matter when their\nfiles exist or when their dependencies are not rebuilt.","summary":"<p>Adds the given target to the phony targets.</p>","abstract":false,"args":[{"name":"name_or_names","doc":null,"default_value":"","external_name":"name_or_names","restriction":"Name | Array(Name)"}],"args_string":"(name_or_names : Name | Array(Name))","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L19","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L19","def":{"name":"phony","args":[{"name":"name_or_names","doc":null,"default_value":"","external_name":"name_or_names","restriction":"Name | Array(Name)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = to_names(name_or_names)\n__temp_23 = Targets::INSTANCE\n__temp_23.phonies = __temp_23.phonies + names.map(&.to_s)\n"}},{"id":"run(command:String,args=nil,env:Process::Env=nil,clear_env:Bool=false,shell:Bool=false,input:Bool=true,output:Bool=true,error:Bool=true,chdir:String?=nil,quiet:Bool=false)-instance-method","html_id":"run(command:String,args=nil,env:Process::Env=nil,clear_env:Bool=false,shell:Bool=false,input:Bool=true,output:Bool=true,error:Bool=true,chdir:String?=nil,quiet:Bool=false)-instance-method","name":"run","doc":"Runs an external command.\n\nRaises a `RunError` if an error occured while running. If the `quiet` flag\nis set, the command that was run will not be displayed.","summary":"<p>Runs an external command.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"},{"name":"args","doc":null,"default_value":"nil","external_name":"args","restriction":""},{"name":"env","doc":null,"default_value":"nil","external_name":"env","restriction":"Process::Env"},{"name":"clear_env","doc":null,"default_value":"false","external_name":"clear_env","restriction":"Bool"},{"name":"shell","doc":null,"default_value":"false","external_name":"shell","restriction":"Bool"},{"name":"input","doc":null,"default_value":"true","external_name":"input","restriction":"Bool"},{"name":"output","doc":null,"default_value":"true","external_name":"output","restriction":"Bool"},{"name":"error","doc":null,"default_value":"true","external_name":"error","restriction":"Bool"},{"name":"chdir","doc":null,"default_value":"nil","external_name":"chdir","restriction":"String | ::Nil"},{"name":"quiet","doc":null,"default_value":"false","external_name":"quiet","restriction":"Bool"}],"args_string":"(command : String, args = <span class=\"n\">nil</span>, env : Process::Env = <span class=\"n\">nil</span>, clear_env : Bool = <span class=\"n\">false</span>, shell : Bool = <span class=\"n\">false</span>, input : Bool = <span class=\"n\">true</span>, output : Bool = <span class=\"n\">true</span>, error : Bool = <span class=\"n\">true</span>, chdir : String? = <span class=\"n\">nil</span>, quiet : Bool = <span class=\"n\">false</span>)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L49","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L49","def":{"name":"run","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"},{"name":"args","doc":null,"default_value":"nil","external_name":"args","restriction":""},{"name":"env","doc":null,"default_value":"nil","external_name":"env","restriction":"Process::Env"},{"name":"clear_env","doc":null,"default_value":"false","external_name":"clear_env","restriction":"Bool"},{"name":"shell","doc":null,"default_value":"false","external_name":"shell","restriction":"Bool"},{"name":"input","doc":null,"default_value":"true","external_name":"input","restriction":"Bool"},{"name":"output","doc":null,"default_value":"true","external_name":"output","restriction":"Bool"},{"name":"error","doc":null,"default_value":"true","external_name":"error","restriction":"Bool"},{"name":"chdir","doc":null,"default_value":"nil","external_name":"chdir","restriction":"String | ::Nil"},{"name":"quiet","doc":null,"default_value":"false","external_name":"quiet","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if quiet\nelse\n  STDOUT << \"#{command} \"\n  args.each do |arg|\n    quote = (    arg.empty? || ((/.*[@&$*! ].*/).match(arg))) ? \"'\" : \"\"\n    STDOUT << \"#{quote}#{arg}#{quote} \"\n  end\n  STDOUT << \"\\n\"\nend\nstatus = Process.run(command, args, env, clear_env, shell, input ? STDIN : Process::Redirect::Close, output ? STDOUT : Process::Redirect::Close, error ? STDERR : Process::Redirect::Close, chdir)\nif !status.normal_exit?\n  raise(RunError.new(abnormal: true))\nelse\n  if !status.success?\n    raise(RunError.new(exit_code: status.exit_code))\n  end\nend\n"}},{"id":"target(name_or_names:Name|Array(Name),deps:Array(Name)=[]ofName,desc:String=&quot;&quot;,&build:Env->)-instance-method","html_id":"target(name_or_names:Name|Array(Name),deps:Array(Name)=[]ofName,desc:String=&amp;quot;&amp;quot;,&amp;build:Env-&gt;)-instance-method","name":"target","doc":"Defines a new target.","summary":"<p>Defines a new target.</p>","abstract":false,"args":[{"name":"name_or_names","doc":null,"default_value":"","external_name":"name_or_names","restriction":"Name | Array(Name)"},{"name":"deps","doc":null,"default_value":"[] of Name","external_name":"deps","restriction":"Array(Name)"},{"name":"desc","doc":null,"default_value":"\"\"","external_name":"desc","restriction":"String"}],"args_string":"(name_or_names : Name | Array(Name), deps : Array(Name) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Name</span>, desc : String = <span class=\"s\">&quot;&quot;</span>, &build : Env -> )","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L25","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr#L25","def":{"name":"target","args":[{"name":"name_or_names","doc":null,"default_value":"","external_name":"name_or_names","restriction":"Name | Array(Name)"},{"name":"deps","doc":null,"default_value":"[] of Name","external_name":"deps","restriction":"Array(Name)"},{"name":"desc","doc":null,"default_value":"\"\"","external_name":"desc","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"build","doc":null,"default_value":"","external_name":"build","restriction":"(Env -> )"},"return_type":"","visibility":"Public","body":"names = to_names(name_or_names)\nnames.each do |name|\n  name = name.to_s\n  deps = deps.map(&.to_s)\n  Targets::INSTANCE.all[name] = Target.new(name, deps, desc, &build)\nend\n"}}],"macros":[],"types":[{"html_id":"github.com/cakefile/cake/Cake/DSL/Name","path":"Cake/DSL/Name.html","kind":"alias","full_name":"Cake::DSL::Name","name":"Name","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"cake/dsl.cr","line_number":5,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/dsl.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":true,"aliased":"(String | Symbol)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake/DSL","kind":"module","full_name":"Cake::DSL","name":"DSL"},"doc":"Represents the name of a target or dependency.","summary":"<p>Represents the name of a target or dependency.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/cakefile/cake/Cake/Env","path":"Cake/Env.html","kind":"struct","full_name":"Cake::Env","name":"Env","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/cakefile/cake/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cakefile/cake/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/env.cr","line_number":2,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"Represents an environment for building a target.","summary":"<p>Represents an environment for building a target.</p>","class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L2","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L2","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"id":"args:Array(String)-instance-method","html_id":"args:Array(String)-instance-method","name":"args","doc":"Returns the arguments that were passed after the `--`.","summary":"<p>Returns the arguments that were passed after the <code>--</code>.</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L8","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L8","def":{"name":"args","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@args"}},{"id":"deps:Array(String)-instance-method","html_id":"deps:Array(String)-instance-method","name":"deps","doc":"Returns the dependencies.","summary":"<p>Returns the dependencies.</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L16","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L16","def":{"name":"deps","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@deps"}},{"id":"modified_deps:Array(String)-instance-method","html_id":"modified_deps:Array(String)-instance-method","name":"modified_deps","doc":"Returns the file dependencies that were modified.","summary":"<p>Returns the file dependencies that were modified.</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L20","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L20","def":{"name":"modified_deps","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@modified_deps"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":"Returns the name of the target.","summary":"<p>Returns the name of the target.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L12","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L12","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}},{"id":"verbose:Bool-instance-method","html_id":"verbose:Bool-instance-method","name":"verbose","doc":"Returns whether the output should be verbose.","summary":"<p>Returns whether the output should be verbose.</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L4","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/env.cr#L4","def":{"name":"verbose","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@verbose"}}],"macros":[],"types":[]},{"html_id":"github.com/cakefile/cake/Cake/Error","path":"Cake/Error.html","kind":"class","full_name":"Cake::Error","name":"Error","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/cakefile/cake/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/error.cr","line_number":3,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/cakefile/cake/Cake/BuildError","kind":"class","full_name":"Cake::BuildError","name":"BuildError"},{"html_id":"github.com/cakefile/cake/Cake/ValidationError","kind":"class","full_name":"Cake::ValidationError","name":"ValidationError"}],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"All errors raised will inherit from `Error`.","summary":"<p>All errors raised will inherit from <code><a href=\"../Cake/Error.html\">Error</a></code>.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/cakefile/cake/Cake/NotFoundError","path":"Cake/NotFoundError.html","kind":"class","full_name":"Cake::NotFoundError","name":"NotFoundError","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Cake/ValidationError","kind":"class","full_name":"Cake::ValidationError","name":"ValidationError"},"ancestors":[{"html_id":"github.com/cakefile/cake/Cake/ValidationError","kind":"class","full_name":"Cake::ValidationError","name":"ValidationError"},{"html_id":"github.com/cakefile/cake/Cake/Error","kind":"class","full_name":"Cake::Error","name":"Error"},{"html_id":"github.com/cakefile/cake/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/error.cr","line_number":34,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"Raised when a target is not found.\n\nIt can also include whether the target that was not found was a dependency\nof another target, indicated by `needed_by`.","summary":"<p>Raised when a target is not found.</p>","class_methods":[],"constructors":[{"id":"new(not_found:String,needed_by:String?=nil)-class-method","html_id":"new(not_found:String,needed_by:String?=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"not_found","doc":null,"default_value":"","external_name":"not_found","restriction":"String"},{"name":"needed_by","doc":null,"default_value":"nil","external_name":"needed_by","restriction":"String | ::Nil"}],"args_string":"(not_found : String, needed_by : String? = <span class=\"n\">nil</span>)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L38","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L38","def":{"name":"new","args":[{"name":"not_found","doc":null,"default_value":"","external_name":"not_found","restriction":"String"},{"name":"needed_by","doc":null,"default_value":"nil","external_name":"needed_by","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(not_found, needed_by)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"needed_by:String?-instance-method","html_id":"needed_by:String?-instance-method","name":"needed_by","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L36","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L36","def":{"name":"needed_by","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@needed_by"}},{"id":"not_found:String-instance-method","html_id":"not_found:String-instance-method","name":"not_found","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L35","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L35","def":{"name":"not_found","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@not_found"}}],"macros":[],"types":[]},{"html_id":"github.com/cakefile/cake/Cake/RunError","path":"Cake/RunError.html","kind":"class","full_name":"Cake::RunError","name":"RunError","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Cake/BuildError","kind":"class","full_name":"Cake::BuildError","name":"BuildError"},"ancestors":[{"html_id":"github.com/cakefile/cake/Cake/BuildError","kind":"class","full_name":"Cake::BuildError","name":"BuildError"},{"html_id":"github.com/cakefile/cake/Cake/Error","kind":"class","full_name":"Cake::Error","name":"Error"},{"html_id":"github.com/cakefile/cake/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/error.cr","line_number":13,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"Raised when an error occurs while running a shell command.\n\nIt includes the exit code of the shell command that failed to run.","summary":"<p>Raised when an error occurs while running a shell command.</p>","class_methods":[],"constructors":[{"id":"new(abnormal:Bool)-class-method","html_id":"new(abnormal:Bool)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"abnormal","doc":null,"default_value":"","external_name":"abnormal","restriction":"Bool"}],"args_string":"(abnormal : Bool)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L17","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L17","def":{"name":"new","args":[{"name":"abnormal","doc":null,"default_value":"","external_name":"abnormal","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(abnormal)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(exit_code:Int32)-class-method","html_id":"new(exit_code:Int32)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"exit_code","doc":null,"default_value":"","external_name":"exit_code","restriction":"Int32"}],"args_string":"(exit_code : Int32)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L21","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L21","def":{"name":"new","args":[{"name":"exit_code","doc":null,"default_value":"","external_name":"exit_code","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(exit_code)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"abnormal:Bool?-instance-method","html_id":"abnormal:Bool?-instance-method","name":"abnormal","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool?","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L14","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L14","def":{"name":"abnormal","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@abnormal"}},{"id":"exit_code:Int32?-instance-method","html_id":"exit_code:Int32?-instance-method","name":"exit_code","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32?","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L15","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr#L15","def":{"name":"exit_code","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@exit_code"}}],"macros":[],"types":[]},{"html_id":"github.com/cakefile/cake/Cake/Target","path":"Cake/Target.html","kind":"class","full_name":"Cake::Target","name":"Target","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/target.cr","line_number":2,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"Represents a target to be built.","summary":"<p>Represents a target to be built.</p>","class_methods":[],"constructors":[{"id":"new(name:String,deps:Array(String),desc:String,&build:Env->)-class-method","html_id":"new(name:String,deps:Array(String),desc:String,&amp;build:Env-&gt;)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"deps","doc":null,"default_value":"","external_name":"deps","restriction":"Array(String)"},{"name":"desc","doc":null,"default_value":"","external_name":"desc","restriction":"String"}],"args_string":"(name : String, deps : Array(String), desc : String, &build : Env -> )","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L12","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L12","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"deps","doc":null,"default_value":"","external_name":"deps","restriction":"Array(String)"},{"name":"desc","doc":null,"default_value":"","external_name":"desc","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"build","doc":null,"default_value":"","external_name":"build","restriction":"(Env -> )"},"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, deps, desc, &build) do |_arg0|\n  yield _arg0\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"build(env:Env):Bool-instance-method","html_id":"build(env:Env):Bool-instance-method","name":"build","doc":"Builds the target.\n\nThe target will not be build if it is deemed up to date. This means that\nnone of its target dependencies were rebuilt, and none of its file\ndependencies were modified after the target file was last modified.","summary":"<p>Builds the target.</p>","abstract":false,"args":[{"name":"env","doc":null,"default_value":"","external_name":"env","restriction":"Env"}],"args_string":"(env : Env) : Bool","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L20","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L20","def":{"name":"build","args":[{"name":"env","doc":null,"default_value":"","external_name":"env","restriction":"Env"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"env.name = @name\nenv.deps = @deps\nenv.modified_deps = [] of String\nrebuild = false\nif Targets::INSTANCE.phonies.includes?(@name)\n  rebuild = true\nend\nbegin\n  modification_time = (File.info(name)).modification_time\nrescue exception : Errno\n  rebuild = true\nend\n@deps.each do |dep|\n  if target = Targets::INSTANCE.all[dep]?\n    if target.build(env)\n      rebuild = true\n    end\n  else\n    if modification_time\n      dep_modification_time = (File.info(dep)).modification_time\n      if dep_modification_time.epoch > modification_time.epoch\n        rebuild = true\n        env.modified_deps << dep\n      end\n    end\n  end\nend\nif rebuild\nelse\n  if env.verbose\n    puts(\"Target #{@name} up to date\")\n  end\n  return false\nend\nif env.verbose\n  puts(\"Building target #{@name}...\")\nend\n@build.call(env)\ntrue\n"}},{"id":"deps:Array(String)-instance-method","html_id":"deps:Array(String)-instance-method","name":"deps","doc":"Returns the dependencies of the target.","summary":"<p>Returns the dependencies of the target.</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L7","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L7","def":{"name":"deps","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@deps"}},{"id":"desc:String-instance-method","html_id":"desc:String-instance-method","name":"desc","doc":"Returns the description of the target.","summary":"<p>Returns the description of the target.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L10","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L10","def":{"name":"desc","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@desc"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":"Returns the name of the target.","summary":"<p>Returns the name of the target.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L4","source_link":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/target.cr#L4","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}}],"macros":[],"types":[]},{"html_id":"github.com/cakefile/cake/Cake/ValidationError","path":"Cake/ValidationError.html","kind":"class","full_name":"Cake::ValidationError","name":"ValidationError","abstract":false,"superclass":{"html_id":"github.com/cakefile/cake/Cake/Error","kind":"class","full_name":"Cake::Error","name":"Error"},"ancestors":[{"html_id":"github.com/cakefile/cake/Cake/Error","kind":"class","full_name":"Cake::Error","name":"Error"},{"html_id":"github.com/cakefile/cake/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cakefile/cake/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cakefile/cake/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"cake/error.cr","line_number":27,"url":"https://github.com/cakefile/cake/blob/39273904858e229fd1d66526a78169ee82b982e8/src/cake/error.cr"}],"repository_name":"github.com/cakefile/cake","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/cakefile/cake/Cake/NotFoundError","kind":"class","full_name":"Cake::NotFoundError","name":"NotFoundError"}],"including_types":[],"namespace":{"html_id":"github.com/cakefile/cake/Cake","kind":"module","full_name":"Cake","name":"Cake"},"doc":"Raised when target definition is invalid.","summary":"<p>Raised when target definition is invalid.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]}}